{
  "hash": "77660d288fb1419b1ccc2f6ecfc32d74",
  "result": {
    "engine": "knitr",
    "markdown": "# Tidy Data Principles {#sec-tidy-data}\n\n\n\n::: {.callout-note title=\"Learning Objectives\"}\nAfter completing this chapter, you will be able to:\n\n- Define tidy data and explain its three principles\n- Identify common problems in messy datasets\n- Apply tidy data principles to your own data\n- Distinguish between different data types\n- Implement best practices for data organization\n- Use appropriate file formats for data storage\n:::\n\n## Why Data Organization Matters\n\nBefore you can analyze data, you must organize it. The structure of your data profoundly affects how easily you can work with it. A well-organized dataset can be analyzed in minutes; a poorly organized one might require hours of preprocessing.\n\nConsider this scenario: you've completed an experiment and collected data in a spreadsheet. Now you need to analyze it. If your data is organized consistently and logically, analysis is straightforward. If it's scattered across multiple tabs with inconsistent formatting, merged cells, and color-coded values, you're in for a frustrating experience.\n\n**Tidy data** provides a standard way to organize data that makes analysis easier. It's not the only valid way to structure data, but it's particularly well-suited for analysis in R and Python.\n\n## The Three Principles of Tidy Data\n\nHadley Wickham formalized the concept of tidy data in a influential paper [@wickham2014tidy]. Tidy data follows three rules:\n\n::: {.callout-important title=\"The Three Rules of Tidy Data\"}\n1. Each **variable** forms a column\n2. Each **observation** forms a row\n3. Each **value** has its own cell\n:::\n\nLet's unpack what these mean.\n\n### Variables as Columns\n\nA **variable** is a characteristic that you measure, observe, or categorize. Examples:\n\n- Gene expression level\n- Treatment group\n- Patient age\n- Sample ID\n- Measurement date\n\nEach variable should have its own column with a descriptive header.\n\n### Observations as Rows\n\nAn **observation** is a single unit of data collection—typically one measurement from one subject at one time point. Each observation gets its own row.\n\n### Values in Cells\n\nEach cell contains exactly one value. No merged cells, no multiple values crammed together, no implicit values indicated by color or formatting.\n\n## Tidy vs. Messy Data: Examples\n\n### A Tidy Dataset\n\n\n::: {#tbl-tidy-example .cell layout-align=\"center\" tbl-cap='Example of tidy data organization'}\n\n```{.r .cell-code}\ntidy_data <- tibble(\n  sample_id = c(\"S001\", \"S002\", \"S003\", \"S001\", \"S002\", \"S003\"),\n  timepoint = c(\"0h\", \"0h\", \"0h\", \"24h\", \"24h\", \"24h\"),\n  gene = rep(\"BRCA1\", 6),\n  expression = c(4.2, 3.8, 4.5, 8.1, 7.9, 9.2)\n)\n\ntidy_data |>\n  gt() |>\n  tab_header(title = \"Gene Expression Data (Tidy Format)\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jolmqbiiuh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jolmqbiiuh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jolmqbiiuh thead, #jolmqbiiuh tbody, #jolmqbiiuh tfoot, #jolmqbiiuh tr, #jolmqbiiuh td, #jolmqbiiuh th {\n  border-style: none;\n}\n\n#jolmqbiiuh p {\n  margin: 0;\n  padding: 0;\n}\n\n#jolmqbiiuh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jolmqbiiuh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jolmqbiiuh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jolmqbiiuh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jolmqbiiuh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jolmqbiiuh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jolmqbiiuh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jolmqbiiuh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jolmqbiiuh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jolmqbiiuh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jolmqbiiuh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jolmqbiiuh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jolmqbiiuh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jolmqbiiuh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jolmqbiiuh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jolmqbiiuh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jolmqbiiuh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jolmqbiiuh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jolmqbiiuh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jolmqbiiuh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jolmqbiiuh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jolmqbiiuh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jolmqbiiuh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jolmqbiiuh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jolmqbiiuh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jolmqbiiuh .gt_left {\n  text-align: left;\n}\n\n#jolmqbiiuh .gt_center {\n  text-align: center;\n}\n\n#jolmqbiiuh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jolmqbiiuh .gt_font_normal {\n  font-weight: normal;\n}\n\n#jolmqbiiuh .gt_font_bold {\n  font-weight: bold;\n}\n\n#jolmqbiiuh .gt_font_italic {\n  font-style: italic;\n}\n\n#jolmqbiiuh .gt_super {\n  font-size: 65%;\n}\n\n#jolmqbiiuh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jolmqbiiuh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jolmqbiiuh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jolmqbiiuh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jolmqbiiuh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jolmqbiiuh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jolmqbiiuh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jolmqbiiuh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jolmqbiiuh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Gene Expression Data (Tidy Format)</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sample_id\">sample_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"timepoint\">timepoint</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"gene\">gene</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"expression\">expression</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S001</td>\n<td headers=\"timepoint\" class=\"gt_row gt_left\">0h</td>\n<td headers=\"gene\" class=\"gt_row gt_left\">BRCA1</td>\n<td headers=\"expression\" class=\"gt_row gt_right\">4.2</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S002</td>\n<td headers=\"timepoint\" class=\"gt_row gt_left\">0h</td>\n<td headers=\"gene\" class=\"gt_row gt_left\">BRCA1</td>\n<td headers=\"expression\" class=\"gt_row gt_right\">3.8</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S003</td>\n<td headers=\"timepoint\" class=\"gt_row gt_left\">0h</td>\n<td headers=\"gene\" class=\"gt_row gt_left\">BRCA1</td>\n<td headers=\"expression\" class=\"gt_row gt_right\">4.5</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S001</td>\n<td headers=\"timepoint\" class=\"gt_row gt_left\">24h</td>\n<td headers=\"gene\" class=\"gt_row gt_left\">BRCA1</td>\n<td headers=\"expression\" class=\"gt_row gt_right\">8.1</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S002</td>\n<td headers=\"timepoint\" class=\"gt_row gt_left\">24h</td>\n<td headers=\"gene\" class=\"gt_row gt_left\">BRCA1</td>\n<td headers=\"expression\" class=\"gt_row gt_right\">7.9</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S003</td>\n<td headers=\"timepoint\" class=\"gt_row gt_left\">24h</td>\n<td headers=\"gene\" class=\"gt_row gt_left\">BRCA1</td>\n<td headers=\"expression\" class=\"gt_row gt_right\">9.2</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nThis is tidy because:\n\n- Each column is a variable (sample_id, timepoint, gene, expression)\n- Each row is an observation (one expression measurement)\n- Each cell has one value\n\n### A Messy Dataset (Same Data)\n\nA common messy format spreads measurements across columns:\n\n\n::: {#tbl-messy-example .cell layout-align=\"center\" tbl-cap='The same data in messy (wide) format'}\n\n```{.r .cell-code}\nmessy_data <- tibble(\n  sample_id = c(\"S001\", \"S002\", \"S003\"),\n  `BRCA1_0h` = c(4.2, 3.8, 4.5),\n  `BRCA1_24h` = c(8.1, 7.9, 9.2)\n)\n\nmessy_data |>\n  gt() |>\n  tab_header(title = \"Gene Expression Data (Messy Format)\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"dpznglvkii\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dpznglvkii table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dpznglvkii thead, #dpznglvkii tbody, #dpznglvkii tfoot, #dpznglvkii tr, #dpznglvkii td, #dpznglvkii th {\n  border-style: none;\n}\n\n#dpznglvkii p {\n  margin: 0;\n  padding: 0;\n}\n\n#dpznglvkii .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dpznglvkii .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dpznglvkii .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dpznglvkii .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dpznglvkii .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dpznglvkii .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dpznglvkii .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dpznglvkii .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dpznglvkii .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dpznglvkii .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dpznglvkii .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dpznglvkii .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dpznglvkii .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dpznglvkii .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dpznglvkii .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dpznglvkii .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dpznglvkii .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dpznglvkii .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dpznglvkii .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dpznglvkii .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dpznglvkii .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dpznglvkii .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dpznglvkii .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dpznglvkii .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dpznglvkii .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dpznglvkii .gt_left {\n  text-align: left;\n}\n\n#dpznglvkii .gt_center {\n  text-align: center;\n}\n\n#dpznglvkii .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dpznglvkii .gt_font_normal {\n  font-weight: normal;\n}\n\n#dpznglvkii .gt_font_bold {\n  font-weight: bold;\n}\n\n#dpznglvkii .gt_font_italic {\n  font-style: italic;\n}\n\n#dpznglvkii .gt_super {\n  font-size: 65%;\n}\n\n#dpznglvkii .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dpznglvkii .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dpznglvkii .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dpznglvkii .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dpznglvkii .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dpznglvkii .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dpznglvkii .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#dpznglvkii .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#dpznglvkii div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Gene Expression Data (Messy Format)</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sample_id\">sample_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BRCA1_0h\">BRCA1_0h</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BRCA1_24h\">BRCA1_24h</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S001</td>\n<td headers=\"BRCA1_0h\" class=\"gt_row gt_right\">4.2</td>\n<td headers=\"BRCA1_24h\" class=\"gt_row gt_right\">8.1</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S002</td>\n<td headers=\"BRCA1_0h\" class=\"gt_row gt_right\">3.8</td>\n<td headers=\"BRCA1_24h\" class=\"gt_row gt_right\">7.9</td></tr>\n    <tr><td headers=\"sample_id\" class=\"gt_row gt_left\">S003</td>\n<td headers=\"BRCA1_0h\" class=\"gt_row gt_right\">4.5</td>\n<td headers=\"BRCA1_24h\" class=\"gt_row gt_right\">9.2</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nThis is messy because:\n\n- Time point and gene are embedded in column names\n- Each row represents multiple observations\n- Adding genes or timepoints requires adding columns\n\n### Why It Matters\n\nWith tidy data, operations are straightforward:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Calculate mean expression by timepoint\ntidy_data |>\n  group_by(timepoint) |>\n  summarize(mean_expression = mean(expression))\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|timepoint | mean_expression|\n|:---------|---------------:|\n|0h        |        4.166667|\n|24h       |        8.400000|\n\n</div>\n:::\n\n```{.r .cell-code}\n\n# Easy to filter and plot\ntidy_data |>\n  filter(timepoint == \"24h\")\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|sample_id |timepoint |gene  | expression|\n|:---------|:---------|:-----|----------:|\n|S001      |24h       |BRCA1 |        8.1|\n|S002      |24h       |BRCA1 |        7.9|\n|S003      |24h       |BRCA1 |        9.2|\n\n</div>\n:::\n:::\n\n\nWith messy data, you must first reshape it—or write complex code to work around the structure.\n\n## Common Data Problems\n\n### Problem 1: Column Headers Are Values\n\nOften, column names contain data values rather than variable names:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Messy: years in column headers\npopulation_messy <- tibble(\n  country = c(\"USA\", \"Canada\", \"Mexico\"),\n  `2020` = c(331, 38, 129),\n  `2021` = c(332, 38, 130),\n  `2022` = c(333, 39, 131)\n)\n\npopulation_messy |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"eimxcdmovy\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#eimxcdmovy table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#eimxcdmovy thead, #eimxcdmovy tbody, #eimxcdmovy tfoot, #eimxcdmovy tr, #eimxcdmovy td, #eimxcdmovy th {\n  border-style: none;\n}\n\n#eimxcdmovy p {\n  margin: 0;\n  padding: 0;\n}\n\n#eimxcdmovy .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#eimxcdmovy .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#eimxcdmovy .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#eimxcdmovy .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#eimxcdmovy .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#eimxcdmovy .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#eimxcdmovy .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#eimxcdmovy .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#eimxcdmovy .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#eimxcdmovy .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#eimxcdmovy .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#eimxcdmovy .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#eimxcdmovy .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#eimxcdmovy .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#eimxcdmovy .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eimxcdmovy .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#eimxcdmovy .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#eimxcdmovy .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#eimxcdmovy .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eimxcdmovy .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#eimxcdmovy .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eimxcdmovy .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#eimxcdmovy .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eimxcdmovy .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eimxcdmovy .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eimxcdmovy .gt_left {\n  text-align: left;\n}\n\n#eimxcdmovy .gt_center {\n  text-align: center;\n}\n\n#eimxcdmovy .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#eimxcdmovy .gt_font_normal {\n  font-weight: normal;\n}\n\n#eimxcdmovy .gt_font_bold {\n  font-weight: bold;\n}\n\n#eimxcdmovy .gt_font_italic {\n  font-style: italic;\n}\n\n#eimxcdmovy .gt_super {\n  font-size: 65%;\n}\n\n#eimxcdmovy .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#eimxcdmovy .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#eimxcdmovy .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#eimxcdmovy .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#eimxcdmovy .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#eimxcdmovy .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#eimxcdmovy .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#eimxcdmovy .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#eimxcdmovy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"country\">country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a2020\">2020</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a2021\">2021</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a2022\">2022</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"2020\" class=\"gt_row gt_right\">331</td>\n<td headers=\"2021\" class=\"gt_row gt_right\">332</td>\n<td headers=\"2022\" class=\"gt_row gt_right\">333</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"2020\" class=\"gt_row gt_right\">38</td>\n<td headers=\"2021\" class=\"gt_row gt_right\">38</td>\n<td headers=\"2022\" class=\"gt_row gt_right\">39</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"2020\" class=\"gt_row gt_right\">129</td>\n<td headers=\"2021\" class=\"gt_row gt_right\">130</td>\n<td headers=\"2022\" class=\"gt_row gt_right\">131</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nSolution: \"Pivot\" the data to create a `year` column:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\npopulation_tidy <- population_messy |>\n  pivot_longer(\n    cols = `2020`:`2022`,\n    names_to = \"year\",\n    values_to = \"population\"\n  )\n\npopulation_tidy |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"waettdjglg\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#waettdjglg table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#waettdjglg thead, #waettdjglg tbody, #waettdjglg tfoot, #waettdjglg tr, #waettdjglg td, #waettdjglg th {\n  border-style: none;\n}\n\n#waettdjglg p {\n  margin: 0;\n  padding: 0;\n}\n\n#waettdjglg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#waettdjglg .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#waettdjglg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#waettdjglg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#waettdjglg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#waettdjglg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#waettdjglg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#waettdjglg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#waettdjglg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#waettdjglg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#waettdjglg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#waettdjglg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#waettdjglg .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#waettdjglg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#waettdjglg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#waettdjglg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#waettdjglg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#waettdjglg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#waettdjglg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#waettdjglg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#waettdjglg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#waettdjglg .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#waettdjglg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#waettdjglg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#waettdjglg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#waettdjglg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#waettdjglg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#waettdjglg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#waettdjglg .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#waettdjglg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#waettdjglg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#waettdjglg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#waettdjglg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#waettdjglg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#waettdjglg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#waettdjglg .gt_left {\n  text-align: left;\n}\n\n#waettdjglg .gt_center {\n  text-align: center;\n}\n\n#waettdjglg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#waettdjglg .gt_font_normal {\n  font-weight: normal;\n}\n\n#waettdjglg .gt_font_bold {\n  font-weight: bold;\n}\n\n#waettdjglg .gt_font_italic {\n  font-style: italic;\n}\n\n#waettdjglg .gt_super {\n  font-size: 65%;\n}\n\n#waettdjglg .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#waettdjglg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#waettdjglg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#waettdjglg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#waettdjglg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#waettdjglg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#waettdjglg .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#waettdjglg .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#waettdjglg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"country\">country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"year\">year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"population\">population</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2020</td>\n<td headers=\"population\" class=\"gt_row gt_right\">331</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"population\" class=\"gt_row gt_right\">332</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"population\" class=\"gt_row gt_right\">333</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2020</td>\n<td headers=\"population\" class=\"gt_row gt_right\">38</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"population\" class=\"gt_row gt_right\">38</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"population\" class=\"gt_row gt_right\">39</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2020</td>\n<td headers=\"population\" class=\"gt_row gt_right\">129</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2021</td>\n<td headers=\"population\" class=\"gt_row gt_right\">130</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2022</td>\n<td headers=\"population\" class=\"gt_row gt_right\">131</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n### Problem 2: Multiple Variables in One Column\n\nSometimes multiple pieces of information are crammed into one cell:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Messy: rate contains both values\nmessy_rates <- tibble(\n  country = c(\"USA\", \"Canada\", \"Mexico\"),\n  rate = c(\"1000/50000\", \"200/10000\", \"500/25000\")\n)\n\nmessy_rates |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"kczqbmuvtm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kczqbmuvtm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kczqbmuvtm thead, #kczqbmuvtm tbody, #kczqbmuvtm tfoot, #kczqbmuvtm tr, #kczqbmuvtm td, #kczqbmuvtm th {\n  border-style: none;\n}\n\n#kczqbmuvtm p {\n  margin: 0;\n  padding: 0;\n}\n\n#kczqbmuvtm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kczqbmuvtm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kczqbmuvtm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kczqbmuvtm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kczqbmuvtm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kczqbmuvtm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kczqbmuvtm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kczqbmuvtm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kczqbmuvtm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kczqbmuvtm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kczqbmuvtm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kczqbmuvtm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kczqbmuvtm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kczqbmuvtm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kczqbmuvtm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kczqbmuvtm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kczqbmuvtm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kczqbmuvtm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kczqbmuvtm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kczqbmuvtm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kczqbmuvtm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kczqbmuvtm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kczqbmuvtm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kczqbmuvtm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kczqbmuvtm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kczqbmuvtm .gt_left {\n  text-align: left;\n}\n\n#kczqbmuvtm .gt_center {\n  text-align: center;\n}\n\n#kczqbmuvtm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kczqbmuvtm .gt_font_normal {\n  font-weight: normal;\n}\n\n#kczqbmuvtm .gt_font_bold {\n  font-weight: bold;\n}\n\n#kczqbmuvtm .gt_font_italic {\n  font-style: italic;\n}\n\n#kczqbmuvtm .gt_super {\n  font-size: 65%;\n}\n\n#kczqbmuvtm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kczqbmuvtm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kczqbmuvtm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kczqbmuvtm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kczqbmuvtm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kczqbmuvtm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kczqbmuvtm .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#kczqbmuvtm .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#kczqbmuvtm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"country\">country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"rate\">rate</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"rate\" class=\"gt_row gt_right\">1000/50000</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"rate\" class=\"gt_row gt_right\">200/10000</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"rate\" class=\"gt_row gt_right\">500/25000</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nSolution: Separate into distinct columns:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntidy_rates <- messy_rates |>\n  separate(rate, into = c(\"cases\", \"population\"), sep = \"/\", convert = TRUE)\n\ntidy_rates |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"unmdrvfzej\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#unmdrvfzej table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#unmdrvfzej thead, #unmdrvfzej tbody, #unmdrvfzej tfoot, #unmdrvfzej tr, #unmdrvfzej td, #unmdrvfzej th {\n  border-style: none;\n}\n\n#unmdrvfzej p {\n  margin: 0;\n  padding: 0;\n}\n\n#unmdrvfzej .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#unmdrvfzej .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#unmdrvfzej .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#unmdrvfzej .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#unmdrvfzej .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#unmdrvfzej .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#unmdrvfzej .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#unmdrvfzej .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#unmdrvfzej .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#unmdrvfzej .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#unmdrvfzej .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#unmdrvfzej .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#unmdrvfzej .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#unmdrvfzej .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#unmdrvfzej .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unmdrvfzej .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#unmdrvfzej .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#unmdrvfzej .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#unmdrvfzej .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unmdrvfzej .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#unmdrvfzej .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unmdrvfzej .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#unmdrvfzej .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unmdrvfzej .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#unmdrvfzej .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#unmdrvfzej .gt_left {\n  text-align: left;\n}\n\n#unmdrvfzej .gt_center {\n  text-align: center;\n}\n\n#unmdrvfzej .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#unmdrvfzej .gt_font_normal {\n  font-weight: normal;\n}\n\n#unmdrvfzej .gt_font_bold {\n  font-weight: bold;\n}\n\n#unmdrvfzej .gt_font_italic {\n  font-style: italic;\n}\n\n#unmdrvfzej .gt_super {\n  font-size: 65%;\n}\n\n#unmdrvfzej .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#unmdrvfzej .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#unmdrvfzej .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#unmdrvfzej .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#unmdrvfzej .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#unmdrvfzej .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#unmdrvfzej .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#unmdrvfzej .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#unmdrvfzej div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"country\">country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"cases\">cases</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"population\">population</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">USA</td>\n<td headers=\"cases\" class=\"gt_row gt_right\">1000</td>\n<td headers=\"population\" class=\"gt_row gt_right\">50000</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"cases\" class=\"gt_row gt_right\">200</td>\n<td headers=\"population\" class=\"gt_row gt_right\">10000</td></tr>\n    <tr><td headers=\"country\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"cases\" class=\"gt_row gt_right\">500</td>\n<td headers=\"population\" class=\"gt_row gt_right\">25000</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n### Problem 3: Variables in Both Rows and Columns\n\nComplex tables sometimes mix variables across dimensions:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Messy: measurement type in rows, conditions in columns\nmessy_experiment <- tibble(\n  measurement = c(\"weight\", \"height\", \"weight\", \"height\"),\n  subject = c(\"A\", \"A\", \"B\", \"B\"),\n  control = c(70, 170, 65, 165),\n  treatment = c(68, 170, 64, 166)\n)\n\nmessy_experiment |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ifuculglhm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ifuculglhm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ifuculglhm thead, #ifuculglhm tbody, #ifuculglhm tfoot, #ifuculglhm tr, #ifuculglhm td, #ifuculglhm th {\n  border-style: none;\n}\n\n#ifuculglhm p {\n  margin: 0;\n  padding: 0;\n}\n\n#ifuculglhm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ifuculglhm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ifuculglhm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ifuculglhm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ifuculglhm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ifuculglhm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ifuculglhm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ifuculglhm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ifuculglhm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ifuculglhm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ifuculglhm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ifuculglhm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ifuculglhm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ifuculglhm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ifuculglhm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ifuculglhm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ifuculglhm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ifuculglhm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ifuculglhm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ifuculglhm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ifuculglhm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ifuculglhm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ifuculglhm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ifuculglhm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ifuculglhm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ifuculglhm .gt_left {\n  text-align: left;\n}\n\n#ifuculglhm .gt_center {\n  text-align: center;\n}\n\n#ifuculglhm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ifuculglhm .gt_font_normal {\n  font-weight: normal;\n}\n\n#ifuculglhm .gt_font_bold {\n  font-weight: bold;\n}\n\n#ifuculglhm .gt_font_italic {\n  font-style: italic;\n}\n\n#ifuculglhm .gt_super {\n  font-size: 65%;\n}\n\n#ifuculglhm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ifuculglhm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ifuculglhm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ifuculglhm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ifuculglhm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ifuculglhm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ifuculglhm .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ifuculglhm .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ifuculglhm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"measurement\">measurement</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"subject\">subject</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"control\">control</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"treatment\">treatment</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"measurement\" class=\"gt_row gt_left\">weight</td>\n<td headers=\"subject\" class=\"gt_row gt_left\">A</td>\n<td headers=\"control\" class=\"gt_row gt_right\">70</td>\n<td headers=\"treatment\" class=\"gt_row gt_right\">68</td></tr>\n    <tr><td headers=\"measurement\" class=\"gt_row gt_left\">height</td>\n<td headers=\"subject\" class=\"gt_row gt_left\">A</td>\n<td headers=\"control\" class=\"gt_row gt_right\">170</td>\n<td headers=\"treatment\" class=\"gt_row gt_right\">170</td></tr>\n    <tr><td headers=\"measurement\" class=\"gt_row gt_left\">weight</td>\n<td headers=\"subject\" class=\"gt_row gt_left\">B</td>\n<td headers=\"control\" class=\"gt_row gt_right\">65</td>\n<td headers=\"treatment\" class=\"gt_row gt_right\">64</td></tr>\n    <tr><td headers=\"measurement\" class=\"gt_row gt_left\">height</td>\n<td headers=\"subject\" class=\"gt_row gt_left\">B</td>\n<td headers=\"control\" class=\"gt_row gt_right\">165</td>\n<td headers=\"treatment\" class=\"gt_row gt_right\">166</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nThis requires multiple steps to tidy: pivot longer, then pivot wider.\n\n### Problem 4: Multiple Observational Units\n\nWhen a single table contains data about different types of things:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Messy: patient and hospital info in same table\ncombined_data <- tibble(\n  patient_id = c(\"P001\", \"P002\"),\n  patient_name = c(\"Alice\", \"Bob\"),\n  hospital_id = c(\"H1\", \"H1\"),\n  hospital_name = c(\"General\", \"General\"),\n  hospital_beds = c(500, 500),  # Repeated!\n  diagnosis = c(\"Flu\", \"Cold\")\n)\n\ncombined_data |> gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jjlvklnvuu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jjlvklnvuu table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jjlvklnvuu thead, #jjlvklnvuu tbody, #jjlvklnvuu tfoot, #jjlvklnvuu tr, #jjlvklnvuu td, #jjlvklnvuu th {\n  border-style: none;\n}\n\n#jjlvklnvuu p {\n  margin: 0;\n  padding: 0;\n}\n\n#jjlvklnvuu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jjlvklnvuu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jjlvklnvuu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jjlvklnvuu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jjlvklnvuu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jjlvklnvuu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jjlvklnvuu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jjlvklnvuu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jjlvklnvuu .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jjlvklnvuu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jjlvklnvuu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jjlvklnvuu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jjlvklnvuu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jjlvklnvuu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jjlvklnvuu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jjlvklnvuu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jjlvklnvuu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jjlvklnvuu .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jjlvklnvuu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jjlvklnvuu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jjlvklnvuu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jjlvklnvuu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jjlvklnvuu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jjlvklnvuu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jjlvklnvuu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jjlvklnvuu .gt_left {\n  text-align: left;\n}\n\n#jjlvklnvuu .gt_center {\n  text-align: center;\n}\n\n#jjlvklnvuu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jjlvklnvuu .gt_font_normal {\n  font-weight: normal;\n}\n\n#jjlvklnvuu .gt_font_bold {\n  font-weight: bold;\n}\n\n#jjlvklnvuu .gt_font_italic {\n  font-style: italic;\n}\n\n#jjlvklnvuu .gt_super {\n  font-size: 65%;\n}\n\n#jjlvklnvuu .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jjlvklnvuu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jjlvklnvuu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jjlvklnvuu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jjlvklnvuu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jjlvklnvuu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jjlvklnvuu .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jjlvklnvuu .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jjlvklnvuu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"patient_id\">patient_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"patient_name\">patient_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"hospital_id\">hospital_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"hospital_name\">hospital_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"hospital_beds\">hospital_beds</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"diagnosis\">diagnosis</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"patient_id\" class=\"gt_row gt_left\">P001</td>\n<td headers=\"patient_name\" class=\"gt_row gt_left\">Alice</td>\n<td headers=\"hospital_id\" class=\"gt_row gt_left\">H1</td>\n<td headers=\"hospital_name\" class=\"gt_row gt_left\">General</td>\n<td headers=\"hospital_beds\" class=\"gt_row gt_right\">500</td>\n<td headers=\"diagnosis\" class=\"gt_row gt_left\">Flu</td></tr>\n    <tr><td headers=\"patient_id\" class=\"gt_row gt_left\">P002</td>\n<td headers=\"patient_name\" class=\"gt_row gt_left\">Bob</td>\n<td headers=\"hospital_id\" class=\"gt_row gt_left\">H1</td>\n<td headers=\"hospital_name\" class=\"gt_row gt_left\">General</td>\n<td headers=\"hospital_beds\" class=\"gt_row gt_right\">500</td>\n<td headers=\"diagnosis\" class=\"gt_row gt_left\">Cold</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\nSolution: Normalize into separate tables linked by keys.\n\n## Best Practices for Data Organization\n\n### Naming Conventions\n\n::: {.callout-tip title=\"Data File Naming Rules\"}\n**File names:**\n\n- Use descriptive names: `patient_outcomes_2024.csv`\n- Include dates in ISO format: `YYYY-MM-DD`\n- Avoid spaces (use underscores or hyphens)\n- Keep names concise but informative\n\n**Column names:**\n\n- Use lowercase with underscores: `sample_id`, `gene_expression`\n- Make names meaningful: `treatment_group` not `tg`\n- Avoid special characters and spaces\n- Start with a letter, not a number\n:::\n\n### File Formats\n\n| Format | Extension | Best For |\n|:-------|:----------|:---------|\n| Comma-separated | `.csv` | General tabular data |\n| Tab-separated | `.tsv` | Data containing commas |\n| Plain text | `.txt` | Simple data, scripts |\n| Excel | `.xlsx` | Sharing with non-programmers |\n| RDS | `.rds` | R-specific data with types preserved |\n| Parquet | `.parquet` | Large datasets, fast reading |\n\n: Common data file formats {#tbl-file-formats}\n\nFor long-term storage and sharing, prefer plain text formats (CSV, TSV) over proprietary formats. They're human-readable and don't require specific software.\n\n### Documentation\n\nAlways create a **data dictionary** (also called a codebook) documenting:\n\n- Variable names and descriptions\n- Units of measurement\n- Allowable values or categories\n- Coding of missing values\n- Source of the data\n- Date created/modified\n\n### Preserving Raw Data\n\n::: {.callout-warning title=\"Never Modify Raw Data\"}\nAlways keep an unchanged copy of your original data. Create a separate processed version for analysis. This allows you to:\n\n- Retrace your steps if something goes wrong\n- Rerun analysis with different preprocessing\n- Share the original data with collaborators\n:::\n\n## Data Types\n\nUnderstanding data types helps you organize and analyze correctly.\n\n### Categorical vs. Quantitative\n\n\n::: {#tbl-data-types-table .cell layout-align=\"center\" tbl-cap='Classification of data types'}\n\n```{.r .cell-code}\ndata_types <- tibble(\n  Category = c(\"Categorical\", \"Categorical\", \"Quantitative\", \"Quantitative\"),\n  Type = c(\"Ordinal\", \"Nominal\", \"Ratio\", \"Interval\"),\n  Description = c(\n    \"Ordered categories\",\n    \"Unordered categories\",\n    \"True zero, ratios meaningful\",\n    \"No true zero\"\n  ),\n  Examples = c(\n    \"small, medium, large\",\n    \"red, blue, green\",\n    \"height, weight, concentration\",\n    \"temperature (°C), calendar year\"\n  )\n)\n\ndata_types |>\n  gt() |>\n  tab_header(title = \"Data Type Classification\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"vtmqmytkrt\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#vtmqmytkrt table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#vtmqmytkrt thead, #vtmqmytkrt tbody, #vtmqmytkrt tfoot, #vtmqmytkrt tr, #vtmqmytkrt td, #vtmqmytkrt th {\n  border-style: none;\n}\n\n#vtmqmytkrt p {\n  margin: 0;\n  padding: 0;\n}\n\n#vtmqmytkrt .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#vtmqmytkrt .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vtmqmytkrt .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vtmqmytkrt .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vtmqmytkrt .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vtmqmytkrt .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vtmqmytkrt .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vtmqmytkrt .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vtmqmytkrt .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#vtmqmytkrt .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#vtmqmytkrt .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vtmqmytkrt .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vtmqmytkrt .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vtmqmytkrt .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vtmqmytkrt .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vtmqmytkrt .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vtmqmytkrt .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vtmqmytkrt .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#vtmqmytkrt .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vtmqmytkrt .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vtmqmytkrt .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vtmqmytkrt .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vtmqmytkrt .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vtmqmytkrt .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vtmqmytkrt .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vtmqmytkrt .gt_left {\n  text-align: left;\n}\n\n#vtmqmytkrt .gt_center {\n  text-align: center;\n}\n\n#vtmqmytkrt .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vtmqmytkrt .gt_font_normal {\n  font-weight: normal;\n}\n\n#vtmqmytkrt .gt_font_bold {\n  font-weight: bold;\n}\n\n#vtmqmytkrt .gt_font_italic {\n  font-style: italic;\n}\n\n#vtmqmytkrt .gt_super {\n  font-size: 65%;\n}\n\n#vtmqmytkrt .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#vtmqmytkrt .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vtmqmytkrt .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#vtmqmytkrt .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#vtmqmytkrt .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#vtmqmytkrt .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#vtmqmytkrt .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#vtmqmytkrt .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#vtmqmytkrt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Data Type Classification</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Category\">Category</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Type\">Type</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Description\">Description</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Examples\">Examples</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Categorical</td>\n<td headers=\"Type\" class=\"gt_row gt_left\">Ordinal</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Ordered categories</td>\n<td headers=\"Examples\" class=\"gt_row gt_left\">small, medium, large</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Categorical</td>\n<td headers=\"Type\" class=\"gt_row gt_left\">Nominal</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Unordered categories</td>\n<td headers=\"Examples\" class=\"gt_row gt_left\">red, blue, green</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Quantitative</td>\n<td headers=\"Type\" class=\"gt_row gt_left\">Ratio</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">True zero, ratios meaningful</td>\n<td headers=\"Examples\" class=\"gt_row gt_left\">height, weight, concentration</td></tr>\n    <tr><td headers=\"Category\" class=\"gt_row gt_left\">Quantitative</td>\n<td headers=\"Type\" class=\"gt_row gt_left\">Interval</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">No true zero</td>\n<td headers=\"Examples\" class=\"gt_row gt_left\">temperature (°C), calendar year</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n### R Data Types\n\nR has specific data types for these categories:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Numeric (continuous)\ntemperature <- c(37.2, 36.8, 38.1)\nclass(temperature)\n#> [1] \"numeric\"\n\n# Integer\ncounts <- c(1L, 2L, 3L)\nclass(counts)\n#> [1] \"integer\"\n\n# Character\nsample_names <- c(\"control\", \"treatment\", \"treatment\")\nclass(sample_names)\n#> [1] \"character\"\n\n# Factor (categorical)\ntreatment <- factor(c(\"low\", \"medium\", \"high\"), \n                   levels = c(\"low\", \"medium\", \"high\"),\n                   ordered = TRUE)\nclass(treatment)\n#> [1] \"ordered\" \"factor\"\ntreatment\n#> [1] low    medium high  \n#> Levels: low < medium < high\n\n# Logical\npassed_qc <- c(TRUE, TRUE, FALSE)\nclass(passed_qc)\n#> [1] \"logical\"\n```\n:::\n\n\n### When to Use Factors\n\nFactors are R's way of handling categorical variables. Use them when:\n\n- You have a limited set of possible values\n- The order matters (ordinal data)\n- You want specific grouping in analyses and plots\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Character vector sorts alphabetically\ntreatments <- c(\"High\", \"Low\", \"Medium\", \"Low\", \"High\")\nsort(treatments)\n#> [1] \"High\"   \"High\"   \"Low\"    \"Low\"    \"Medium\"\n\n# Factor maintains meaningful order\ntreatments_factor <- factor(treatments, \n                           levels = c(\"Low\", \"Medium\", \"High\"))\nsort(treatments_factor)\n#> [1] Low    Low    Medium High   High  \n#> Levels: Low Medium High\n```\n:::\n\n\n## Structuring Spreadsheets for Analysis\n\nIf you must use spreadsheets for data entry, follow these guidelines:\n\n::: {.callout-important title=\"Spreadsheet Best Practices\"}\n1. **One header row only** — Put variable names in row 1\n2. **No merged cells** — They break data structure\n3. **No color-coding as data** — Use a column instead\n4. **Consistent missing values** — Use `NA`, not blank, `-`, or `N/A`\n5. **One sheet per dataset** — Don't spread data across tabs\n6. **Export as CSV** — Preserve as plain text\n7. **No calculations in raw data** — Keep raw and calculated data separate\n:::\n\n### Before and After\n\n**Bad spreadsheet practices:**\n\n- Merged cells for visual grouping\n- Color-coded cells indicating categories\n- Multiple header rows\n- Notes in random cells\n- Mixed data types in columns\n- Embedded calculations\n\n**Good spreadsheet practices:**\n\n- Clean rectangular data\n- Single header row\n- Consistent formatting throughout\n- Separate documentation sheet\n- Explicit coding of all information\n\n## Summary\n\nTidy data provides a consistent structure that simplifies analysis:\n\n- Each variable is a column\n- Each observation is a row\n- Each value occupies one cell\n\nKey principles for data organization:\n\n- Use descriptive, consistent naming conventions\n- Document your data with a data dictionary\n- Preserve raw data separately from processed data\n- Choose appropriate file formats for your needs\n- Understand the difference between data types\n\nThese practices apply regardless of whether you're using R, Python, or other tools. Well-organized data is easier to analyze, share, and preserve.\n\n## Exercises {.unnumbered}\n\n::: {.callout-tip title=\"Practice Exercises\"}\n**Exercise 1: Identify Tidy Data**\n\nFor each dataset description, determine if it's tidy. If not, explain what violates tidy principles:\n\n1. Patient data with columns: patient_id, age, blood_pressure_systolic, blood_pressure_diastolic\n2. Gene expression with columns: gene_name, sample_1, sample_2, sample_3\n3. Survey data with columns: respondent_id, question, response\n4. Weather data with columns: city, 2023_temp, 2024_temp, 2023_precip, 2024_precip\n\n**Exercise 2: Reshape Data**\n\nGiven this messy dataset:\n```\nCountry   1990   2000   2010\nUSA       250    280    310  \nCanada    27     31     35\nMexico    86     100    120\n```\n\nWrite R code using `pivot_longer()` to convert it to tidy format.\n\n**Exercise 3: Data Dictionary**\n\nCreate a data dictionary for an experiment tracking:\n- Gene expression levels measured at 0, 12, and 24 hours\n- Three treatment groups (control, low dose, high dose)\n- Twenty biological replicates per group\n- Quality control pass/fail flags\n\n**Exercise 4: Spot the Problems**\n\nReview a dataset you've worked with (or your lab's data). Identify any violations of tidy data principles and propose solutions.\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}