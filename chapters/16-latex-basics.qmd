# LaTeX for Scientific Documents {#sec-latex-basics}

```{r}
#| label: setup
#| include: false
library(tidyverse)
library(gt)
theme_set(theme_minimal())
```

::: {.callout-note title="Learning Objectives"}
After completing this chapter, you will be able to:

- Explain what LaTeX is and why it's valuable for scientific writing
- Use LaTeX syntax for mathematical notation in Quarto documents
- Write inline and display equations
- Format common mathematical operators, Greek letters, and symbols
- Create matrices and complex mathematical expressions
- Understand the relationship between LaTeX, Markdown, and Quarto
:::

## What is LaTeX? {#sec-what-is-latex}

**LaTeX** (pronounced "Lah-tech" or "Lay-tech"—to rhyme with "Bertolt Brecht") is a document preparation system for high-quality typesetting. Created by Leslie Lamport in 1984, it builds on Donald Knuth's TeX typesetting system and has become the standard for scientific and technical documentation [@lamport1994latex].

### Why LaTeX Matters

LaTeX excels in several key areas:

**Precision in Mathematics**
:   LaTeX produces beautifully typeset mathematical equations that are impossible to achieve in standard word processors.

**Consistent Formatting**
:   Document structure is controlled by logical commands, ensuring consistent formatting throughout.

**Large Document Management**
:   Cross-references, bibliographies, tables of contents, and indexes are handled automatically.

**Multi-lingual Support**
:   LaTeX handles complex scripts and languages with ease.

**Professional Output**
:   LaTeX is the standard for journal articles, theses, and technical books in mathematics, physics, computer science, and engineering.

::: {.callout-tip}
You don't need to learn full LaTeX to benefit from it! Quarto and R Markdown let you use LaTeX syntax for mathematical notation while handling document layout automatically.
:::

### LaTeX Resources

- [The LaTeX Project](https://www.latex-project.org) — Official documentation and resources
- [Overleaf Documentation](https://www.overleaf.com/learn) — Excellent LaTeX tutorials
- [LaTeX Wikibook](https://en.wikibooks.org/wiki/LaTeX) — Comprehensive community guide

## LaTeX in Quarto Documents {#sec-latex-in-quarto}

One of LaTeX's greatest strengths is its seamless integration into Quarto and R Markdown documents. You can include mathematical expressions directly in your text without needing to learn the full LaTeX document system.

### Inline vs. Display Equations {#sec-inline-display}

There are two ways to include mathematical expressions:

**Inline equations** appear within the text flow, surrounded by single dollar signs:

```markdown
This equation, $y = \frac{1}{2}$, is included inline with the text.
```

Renders as: This equation, $y = \frac{1}{2}$, is included inline with the text.

**Display equations** appear on their own line, centered, using double dollar signs:

```markdown
This equation is displayed on a separate line:

$$y = \frac{1}{2}$$
```

Renders as: This equation is displayed on a separate line:

$$y = \frac{1}{2}$$

::: {.callout-note}
Use inline equations for simple expressions mentioned in text. Use display equations for important formulas that deserve visual emphasis or are too complex to fit inline.
:::

## Basic Mathematical Notation {#sec-basic-math}

### Operators and Arithmetic {#sec-operators}

LaTeX provides commands for mathematical operations:

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $a + b$ | `$a + b$` | Addition |
| $a - b$ | `$a - b$` | Subtraction |
| $a \times b$ | `$a \times b$` | Multiplication |
| $a \div b$ | `$a \div b$` | Division |
| $\frac{a}{b}$ | `$\frac{a}{b}$` | Fraction |
| $a^n$ | `$a^n$` | Superscript (power) |
| $a_n$ | `$a_n$` | Subscript |
| $a^{n+1}$ | `$a^{n+1}$` | Multi-character superscript |
| $a_{i,j}$ | `$a_{i,j}$` | Multi-character subscript |

: Basic arithmetic operators {#tbl-arithmetic}

### Roots and Powers {#sec-roots}

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $\sqrt{x}$ | `$\sqrt{x}$` | Square root |
| $\sqrt[n]{x}$ | `$\sqrt[n]{x}$` | nth root |
| $x^2$ | `$x^2$` | Square |
| $e^x$ | `$e^x$` | Exponential |

: Roots and powers {#tbl-roots}

Example with multiple operations:

```markdown
$$ \large a^x, \sqrt[n]{x}, \vec{\jmath}, \tilde{\imath} $$
```

$$ \large a^x, \sqrt[n]{x}, \vec{\jmath}, \tilde{\imath} $$

## Greek Letters {#sec-greek-letters}

Greek letters are essential in scientific notation. LaTeX provides commands for all Greek letters:

### Lowercase Greek Letters

| Letter | Code | Letter | Code | Letter | Code |
|:-------|:-----|:-------|:-----|:-------|:-----|
| $\alpha$ | `\alpha` | $\iota$ | `\iota` | $\rho$ | `\rho` |
| $\beta$ | `\beta` | $\kappa$ | `\kappa` | $\sigma$ | `\sigma` |
| $\gamma$ | `\gamma` | $\lambda$ | `\lambda` | $\tau$ | `\tau` |
| $\delta$ | `\delta` | $\mu$ | `\mu` | $\upsilon$ | `\upsilon` |
| $\epsilon$ | `\epsilon` | $\nu$ | `\nu` | $\phi$ | `\phi` |
| $\zeta$ | `\zeta` | $\xi$ | `\xi` | $\chi$ | `\chi` |
| $\eta$ | `\eta` | $\pi$ | `\pi` | $\psi$ | `\psi` |
| $\theta$ | `\theta` | $\omega$ | `\omega` | | |

: Lowercase Greek letters {#tbl-greek-lower}

Example:

```markdown
$$ \large \alpha, \beta, \gamma $$
```

$$ \large \alpha, \beta, \gamma $$

### Uppercase Greek Letters

| Letter | Code | Letter | Code | Letter | Code |
|:-------|:-----|:-------|:-----|:-------|:-----|
| $\Gamma$ | `\Gamma` | $\Lambda$ | `\Lambda` | $\Phi$ | `\Phi` |
| $\Delta$ | `\Delta` | $\Xi$ | `\Xi` | $\Psi$ | `\Psi` |
| $\Theta$ | `\Theta` | $\Pi$ | `\Pi` | $\Omega$ | `\Omega` |
| $\Sigma$ | `\Sigma` | $\Upsilon$ | `\Upsilon` | | |

: Uppercase Greek letters {#tbl-greek-upper}

::: {.callout-tip}
Many uppercase Greek letters look identical to Latin letters (A, B, E, H, I, K, M, N, O, P, T, X, Z) and don't have separate LaTeX commands—just use the Latin letter.
:::

## Comparison and Relation Operators {#sec-comparison}

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $=$ | `$=$` | Equal to |
| $\neq$ | `$\neq$` | Not equal to |
| $<$ | `$<$` | Less than |
| $>$ | `$>$` | Greater than |
| $\leq$ | `$\leq$` | Less than or equal |
| $\geq$ | `$\geq$` | Greater than or equal |
| $\approx$ | `$\approx$` | Approximately equal |
| $\sim$ | `$\sim$` | Similar to / distributed as |
| $\nsim$ | `$\nsim$` | Not similar to |
| $\equiv$ | `$\equiv$` | Equivalent / identical |
| $\propto$ | `$\propto$` | Proportional to |
| $\in$ | `$\in$` | Element of |
| $\notin$ | `$\notin$` | Not element of |
| $\subset$ | `$\subset$` | Subset of |
| $\subseteq$ | `$\subseteq$` | Subset or equal |

: Comparison and relation operators {#tbl-comparison}

Example:

```markdown
$$ \large \approx, \neq, \nsim $$
```

$$ \large \approx, \neq, \nsim $$

## Special Symbols {#sec-special-symbols}

LaTeX provides a wide range of special mathematical symbols:

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $\partial$ | `$\partial$` | Partial derivative |
| $\infty$ | `$\infty$` | Infinity |
| $\nabla$ | `$\nabla$` | Del / gradient |
| $\mathbb{R}$ | `$\mathbb{R}$` | Real numbers |
| $\mathbb{N}$ | `$\mathbb{N}$` | Natural numbers |
| $\mathbb{Z}$ | `$\mathbb{Z}$` | Integers |
| $\forall$ | `$\forall$` | For all |
| $\exists$ | `$\exists$` | There exists |
| $\emptyset$ | `$\emptyset$` | Empty set |
| $\pm$ | `$\pm$` | Plus or minus |
| $\cdot$ | `$\cdot$` | Centered dot |
| $\cdots$ | `$\cdots$` | Horizontal dots |
| $\vdots$ | `$\vdots$` | Vertical dots |
| $\ddots$ | `$\ddots$` | Diagonal dots |

: Special mathematical symbols {#tbl-special-symbols}

Example:

```markdown
$$ \large \partial, \mathbb{R}, \infty $$
```

$$ \large \partial, \mathbb{R}, \infty $$

## Sums, Products, and Integrals {#sec-sums-integrals}

### Summation and Products

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $\sum_{i=1}^{n} x_i$ | `$\sum_{i=1}^{n} x_i$` | Summation |
| $\prod_{i=1}^{n} x_i$ | `$\prod_{i=1}^{n} x_i$` | Product |
| $\bigcup_{i=1}^{n} A_i$ | `$\bigcup_{i=1}^{n} A_i$` | Union |
| $\bigcap_{i=1}^{n} A_i$ | `$\bigcap_{i=1}^{n} A_i$` | Intersection |

: Summation and product notation {#tbl-sums}

### Integrals

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $\int f(x) \, dx$ | `$\int f(x) \, dx$` | Integral |
| $\int_a^b f(x) \, dx$ | `$\int_a^b f(x) \, dx$` | Definite integral |
| $\iint f(x,y) \, dx \, dy$ | `$\iint f(x,y) \, dx \, dy$` | Double integral |
| $\iiint$ | `$\iiint$` | Triple integral |
| $\oint$ | `$\oint$` | Contour integral |

: Integral notation {#tbl-integrals}

### Example: Integral Equation

```markdown
$$\iint xy^2\,dx\,dy = \frac{1}{6}x^2y^3$$
```

$$\iint xy^2\,dx\,dy = \frac{1}{6}x^2y^3$$

## Statistical and Probability Equations {#sec-stat-equations}

Scientific writing often requires statistical formulas. Here are common examples:

### Binomial Distribution

The probability mass function for binomial sampling:

```markdown
$$\large f(k) = {n \choose k} p^{k} (1-p)^{n-k}$$
```

$$\large f(k) = {n \choose k} p^{k} (1-p)^{n-k}$$

### Poisson Distribution

The probability mass function:

```markdown
$$\large Pr(Y=r) = \frac{e^{-\mu}\mu^r}{r!}$$
```

$$\large Pr(Y=r) = \frac{e^{-\mu}\mu^r}{r!}$$

### Normal Distribution

The probability density function:

$$f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2}$$

### Sample Mean and Variance

Mean: $\bar{x} = \frac{1}{n}\sum_{i=1}^{n} x_i$

Variance: $s^2 = \frac{1}{n-1}\sum_{i=1}^{n}(x_i - \bar{x})^2$

## Matrices {#sec-matrices}

LaTeX provides several environments for typesetting matrices:

### Basic Matrix

Use the `matrix` environment for a matrix without brackets:

```markdown
$$\begin{matrix}
a & b \\
c & d
\end{matrix}$$
```

$$\begin{matrix}
a & b \\
c & d
\end{matrix}$$

### Bracketed Matrices

| Environment | Brackets | Example |
|:------------|:---------|:--------|
| `pmatrix` | Parentheses $()$ | $\begin{pmatrix} a & b \\ c & d \end{pmatrix}$ |
| `bmatrix` | Square brackets $[]$ | $\begin{bmatrix} a & b \\ c & d \end{bmatrix}$ |
| `Bmatrix` | Curly braces $\{\}$ | $\begin{Bmatrix} a & b \\ c & d \end{Bmatrix}$ |
| `vmatrix` | Vertical bars (determinant) | $\begin{vmatrix} a & b \\ c & d \end{vmatrix}$ |
| `Vmatrix` | Double vertical bars | $\begin{Vmatrix} a & b \\ c & d \end{Vmatrix}$ |

: Matrix environments {#tbl-matrix-types}

### Example: Tridiagonal Matrix

A more complex matrix with ellipses:

```markdown
$$\begin{matrix}
  -2 & 1 & 0 & 0 & \cdots & 0  \\
  1 & -2 & 1 & 0 & \cdots & 0  \\
  0 & 1 & -2 & 1 & \cdots & 0  \\
  0 & 0 & 1 & -2 & \ddots & \vdots \\
  \vdots & \vdots & \vdots & \ddots & \ddots & 1  \\
  0 & 0 & 0 & \cdots & 1 & -2
\end{matrix}$$
```

$$\begin{matrix}
  -2 & 1 & 0 & 0 & \cdots & 0  \\
  1 & -2 & 1 & 0 & \cdots & 0  \\
  0 & 1 & -2 & 1 & \cdots & 0  \\
  0 & 0 & 1 & -2 & \ddots & \vdots \\
  \vdots & \vdots & \vdots & \ddots & \ddots & 1  \\
  0 & 0 & 0 & \cdots & 1 & -2
\end{matrix}$$

::: {.callout-tip}
In matrix notation:
- Use `&` to separate columns
- Use `\\` to separate rows
- Use `\cdots` for horizontal dots, `\vdots` for vertical, and `\ddots` for diagonal
:::

## Accents and Decorations {#sec-accents}

LaTeX provides various accents and decorations for variables:

| Expression | Code | Description |
|:-----------|:-----|:------------|
| $\hat{x}$ | `$\hat{x}$` | Hat (estimate) |
| $\bar{x}$ | `$\bar{x}$` | Bar (mean) |
| $\tilde{x}$ | `$\tilde{x}$` | Tilde |
| $\vec{x}$ | `$\vec{x}$` | Vector arrow |
| $\dot{x}$ | `$\dot{x}$` | Single dot (derivative) |
| $\ddot{x}$ | `$\ddot{x}$` | Double dot (second derivative) |
| $\mathbf{x}$ | `$\mathbf{x}$` | Bold (vector/matrix) |
| $\mathit{x}$ | `$\mathit{x}$` | Italic |
| $\mathrm{x}$ | `$\mathrm{x}$` | Roman (upright) |

: Mathematical accents and decorations {#tbl-accents}

## Brackets and Delimiters {#sec-brackets}

For equations with tall expressions, use `\left` and `\right` to automatically size delimiters:

```markdown
$$\left( \frac{a^2}{b^2} \right)$$
```

$$\left( \frac{a^2}{b^2} \right)$$

Without automatic sizing:

```markdown
$$( \frac{a^2}{b^2} )$$
```

$$( \frac{a^2}{b^2} )$$

| Delimiter | Code |
|:----------|:-----|
| Parentheses | `\left( ... \right)` |
| Square brackets | `\left[ ... \right]` |
| Curly braces | `\left\{ ... \right\}` |
| Angle brackets | `\left\langle ... \right\rangle` |
| Vertical bars | `\left| ... \right|` |
| Double bars | `\left\| ... \right\|` |

: Bracket delimiters {#tbl-brackets}

## Functions and Operators {#sec-functions}

LaTeX provides proper formatting for common functions:

| Function | Code | Rendered |
|:---------|:-----|:---------|
| $\sin x$ | `$\sin x$` | Sine |
| $\cos x$ | `$\cos x$` | Cosine |
| $\tan x$ | `$\tan x$` | Tangent |
| $\log x$ | `$\log x$` | Logarithm |
| $\ln x$ | `$\ln x$` | Natural log |
| $\exp x$ | `$\exp x$` | Exponential |
| $\lim_{x \to 0}$ | `$\lim_{x \to 0}$` | Limit |
| $\max$ | `$\max$` | Maximum |
| $\min$ | `$\min$` | Minimum |
| $\arg\max$ | `$\arg\max$` | Argument of maximum |

: Mathematical functions {#tbl-functions}

## Practical Examples {#sec-practical-examples}

### Linear Regression Model

$$Y_i = \beta_0 + \beta_1 X_{1i} + \beta_2 X_{2i} + \epsilon_i$$

where $\epsilon_i \sim N(0, \sigma^2)$.

### Maximum Likelihood

$$\hat{\theta} = \arg\max_\theta \prod_{i=1}^{n} f(x_i | \theta)$$

### Bayes' Theorem

$$P(A|B) = \frac{P(B|A) \cdot P(A)}{P(B)}$$

### Hardy-Weinberg Equilibrium

For a biallelic locus with allele frequencies $p$ and $q = 1-p$:

$$p^2 + 2pq + q^2 = 1$$

## Best Practices {#sec-latex-best-practices}

### When to Use LaTeX

- Use inline math (`$...$`) for simple expressions in text
- Use display math (`$$...$$`) for important formulas or complex expressions
- Use display math when equations would break text flow

### Formatting Tips

1. **Spacing**: LaTeX ignores spaces in math mode. Use `\,` for thin space, `\;` for medium, and `\quad` for large spacing
2. **Text in equations**: Use `\text{...}` for words: $P(\text{event})$
3. **Size**: Use `\large`, `\small`, etc. for size adjustments
4. **Numbering**: In Quarto, add `{#eq-label}` after display equations for cross-referencing

### Common Mistakes

::: {.callout-warning}
**Avoid these common errors:**

- Forgetting to escape braces: `\{` not `{` when you want literal braces
- Missing closing delimiters with `\left` and `\right`
- Using `*` for multiplication instead of `\times` or `\cdot`
- Not grouping multi-character subscripts/superscripts with braces
:::

## Summary {#sec-latex-summary}

LaTeX provides powerful tools for mathematical typesetting:

- **Inline** (`$...$`) and **display** (`$$...$$`) modes for different contexts
- **Greek letters** and **special symbols** with backslash commands
- **Fractions**, **roots**, and **powers** for complex expressions
- **Sums**, **products**, and **integrals** with limits
- **Matrices** with various bracket styles
- **Automatic sizing** of delimiters with `\left` and `\right`

Integration with Quarto and R Markdown means you can include precise mathematical notation alongside code and narrative—essential for reproducible scientific communication.

## Exercises {.unnumbered}

::: {.callout-tip title="Practice Exercises"}
**Exercise 1: Basic Notation**

Write the LaTeX code to produce these expressions:

1. $x^2 + y^2 = z^2$
2. $\frac{-b \pm \sqrt{b^2-4ac}}{2a}$
3. $\sum_{i=1}^{n} x_i^2$

**Exercise 2: Statistical Formulas**

Write the LaTeX for these statistical expressions:

1. Sample correlation coefficient
2. Chi-square test statistic
3. A 95% confidence interval

**Exercise 3: Matrix Operations**

Create a $3 \times 3$ identity matrix using `bmatrix` environment.

**Exercise 4: Integrate into Quarto**

Create a Quarto document that:

1. Explains a statistical concept with inline equations
2. Includes a centered display equation for the main formula
3. Uses appropriate Greek letters and symbols
:::
